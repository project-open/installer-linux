
<html><head>
<title>ns_getform - NaviServer Built-in Commands</title>
<link rel="stylesheet" href="../man.css" type="text/css">
</head>
<! -- Generated from file '/usr/local/src/naviserver/doc/html/naviserver/files/ns_getform.html' by tcllib/doctools with format 'html'
   -->
<! -- CVS: $Id$ ns_getform.n
   -->
<body><div class="doctools">
<div id="man-header">
  <a href="http://wiki.tcl.tk/2090"><img
     src="http://naviserver.sourceforge.net/ns-icon-16.png"> <strong>NaviServer</strong></a>
  - programmable web server
</div>
<br>
<hr> [
  <a href="../../toc.html">Main Table Of Contents</a>
| <a href="../toc.html">Table Of Contents</a>
| <a href="../../index.html">Keyword Index</a>
] <hr>
<h1 class="title">ns_getform(n) 4.99.8 naviserver &quot;NaviServer Built-in Commands&quot;</h1>
<div id="name" class="section"><h2><a name="name">Name</a></h2>
<p>ns_getform - Return an ns_set that contains all of the query data that was part of the HTTP request</p>
</div>
<div id="toc" class="section"><h2><a name="toc">Table Of Contents</a></h2>
<ul class="toc">
<li class="section"><a href="#toc">Table Of Contents</a></li>
<li class="section"><a href="#synopsis">Synopsis</a></li>
<li class="section"><a href="#section1">Description</a></li>
<li class="section"><a href="#section2">COMMANDS</a></li>
<li class="section"><a href="#see-also">See Also</a></li>
<li class="section"><a href="#keywords">Keywords</a></li>
</ul>
</div>
<div id="synopsis" class="section"><h2><a name="synopsis">Synopsis</a></h2>
<div class="synopsis">
<ul class="syntax">
<li><a href="#1"><b class="cmd">ns_getform</b></a></li>
</ul>
</div>
</div>
<div id="section1" class="section"><h2><a name="section1">Description</a></h2>
<p>This command returns a handle to an ns_set which contains all of the query data from the 
current HTTP request.  This includes query parameters passed in the URL as well as multipart
form data.  If there is no form data, an empty ns_set is created.</p>
<p>For NaviServer 4.0.3, <b class="cmd"><a href="ns_conn.html">ns_conn</a></b> form and ns_getform are
identical. For GET requests, parameters passed
in the query string are parsed into an ns_set in order of appearance in the URI. For 
application/x-www-form-urlencoded (i.e. normal) POST requests, parameters passed on the
query string are ignored. Form inputs are parsed into an ns_set in order of appearance 
in the client request. This is usually, but not always, in order of appearance in the 
DOM of the HTML document, but it depends on the client (i.e. browser) rather than the 
server. For multipart/form-data POST requests, treatment is the same. After all form 
inputs, each file input has two additional elements. These are input_name.content-type,
which is the content type as specified by the client, followed by input_name.tmpfile, 
which is the location of a temporary file containing the transmitted file content. The 
temporary file name is generated by <b class="cmd"><a href="ns_mktemp.html">ns_mktemp</a></b> and a script
registered by <b class="cmd"><a href="ns_atclose.html">ns_atclose</a></b> deletes
the temporary file when the connection is closed.</p>
<p>Here is one way to prevent the processing of large files:</p>
<pre class="example">
 set content_length [ns_set iget [ns_conn headers] content-length]
 if {$content_length eq &quot;&quot; || $content_length &gt; 1000000} {
   # return some error message about file too big
 }
</pre>
</div>
<div id="section2" class="section"><h2><a name="section2">COMMANDS</a></h2>
<dl class="definitions">
<dt><a name="1"><b class="cmd">ns_getform</b></a></dt>
<dd></dd>
</dl>
</div>
<div id="see-also" class="section"><h2><a name="see-also">See Also</a></h2>
<p><a href="ns_atclose.html">ns_atclose</a>, <a href="ns_conn.html">ns_conn</a>, <a href="ns_getformfile.html">ns_getformfile</a>, <a href="ns_mktemp.html">ns_mktemp</a>, <a href="ns_queryget.html">ns_queryget</a>, <a href="ns_set.html">ns_set</a></p>
</div>
<div id="keywords" class="section"><h2><a name="keywords">Keywords</a></h2>
<p><a href="../../index.html#key25">form</a></p>
</div>
<div id="man-footer">
  
</div>
</div></body></html>
