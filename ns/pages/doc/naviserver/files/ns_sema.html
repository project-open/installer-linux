
<html><head>
<title>ns_sema - NaviServer Built-in Commands</title>
<link rel="stylesheet" href="../man.css" type="text/css">
</head>
<! -- Generated from file '/usr/local/src/naviserver/doc/html/naviserver/files/ns_sema.html' by tcllib/doctools with format 'html'
   -->
<! -- CVS: $Id$ ns_sema.n
   -->
<body><div class="doctools">
<div id="man-header">
  <a href="http://wiki.tcl.tk/2090"><img
     src="http://naviserver.sourceforge.net/ns-icon-16.png"> <strong>NaviServer</strong></a>
  - programmable web server
</div>
<br>
<hr> [
  <a href="../../toc.html">Main Table Of Contents</a>
| <a href="../toc.html">Table Of Contents</a>
| <a href="../../index.html">Keyword Index</a>
] <hr>
<h1 class="title">ns_sema(n) 4.99.8 naviserver &quot;NaviServer Built-in Commands&quot;</h1>
<div id="name" class="section"><h2><a name="name">Name</a></h2>
<p>ns_sema - Operate on semaphore-like objects</p>
</div>
<div id="toc" class="section"><h2><a name="toc">Table Of Contents</a></h2>
<ul class="toc">
<li class="section"><a href="#toc">Table Of Contents</a></li>
<li class="section"><a href="#synopsis">Synopsis</a></li>
<li class="section"><a href="#section1">Description</a></li>
<li class="section"><a href="#section2">COMMANDS</a></li>
<li class="section"><a href="#section3">EXAMPLES</a></li>
<li class="section"><a href="#see-also">See Also</a></li>
<li class="section"><a href="#keywords">Keywords</a></li>
</ul>
</div>
<div id="synopsis" class="section"><h2><a name="synopsis">Synopsis</a></h2>
<div class="synopsis">
<ul class="syntax">
<li><a href="#1"><b class="cmd">ns_sema</b> <span class="opt">?<i class="arg">arg arg ...</i>?</span></a></li>
<li><a href="#2"><b class="cmd">ns_sema</b> <i class="arg">create</i> <span class="opt">?<i class="arg">count</i>?</span></a></li>
<li><a href="#3"><b class="cmd">ns_sema</b> <i class="arg">destroy</i> <i class="arg">object</i></a></li>
<li><a href="#4"><b class="cmd">ns_sema</b> <i class="arg">release</i> <i class="arg">object</i> <span class="opt">?<i class="arg">count</i>?</span></a></li>
<li><a href="#5"><b class="cmd">ns_sema</b> <i class="arg">wait</i> <i class="arg">object</i></a></li>
</ul>
</div>
</div>
<div id="section1" class="section"><h2><a name="section1">Description</a></h2>
<p>This command provides a mechanism to manipulate semaphore-like objects
but are not inter-process capable like true semaphores.  They are actually
implemented with a mutex and a counter.  The legal options (which may be abbreviated) are:</p>
</div>
<div id="section2" class="section"><h2><a name="section2">COMMANDS</a></h2>
<dl class="definitions">
 
<dt><a name="1"><b class="cmd">ns_sema</b> <span class="opt">?<i class="arg">arg arg ...</i>?</span></a></dt>
<dd></dd>
</dl>
<dl class="definitions">
<dt><a name="2"><b class="cmd">ns_sema</b> <i class="arg">create</i> <span class="opt">?<i class="arg">count</i>?</span></a></dt>
<dd><p>Initializes a new semaphore whose count is initialized to zero by default
or count otherwise.  Returns a handle to the semaphore object.</p></dd>
<dt><a name="3"><b class="cmd">ns_sema</b> <i class="arg">destroy</i> <i class="arg">object</i></a></dt>
<dd><p>Destroys the semaphore object and frees any resources it was using.</p></dd>
<dt><a name="4"><b class="cmd">ns_sema</b> <i class="arg">release</i> <i class="arg">object</i> <span class="opt">?<i class="arg">count</i>?</span></a></dt>
<dd><p>Releases the semaphore object by incrementing the counter by one by default
or by count otherwise.  The thread will wake any threads blocking on this 
semaphore when count is equal to one.
This is what is commonly referred to as &quot;semaphore up&quot;.</p></dd>
<dt><a name="5"><b class="cmd">ns_sema</b> <i class="arg">wait</i> <i class="arg">object</i></a></dt>
<dd><p>Waits for a semaphore object to be greater than zero.  Will block the thread until
this is true.  Decrements the counter by one when the counter is greater than zero.
This is what is commonly referred to as &quot;semaphore down&quot;.</p></dd>
</dl>
</div>
<div id="section3" class="section"><h2><a name="section3">EXAMPLES</a></h2>
<pre class="example">
   # need an example here
</pre>
</div>
<div id="see-also" class="section"><h2><a name="see-also">See Also</a></h2>
<p><a href="../../index.html#key3">nsd</a></p>
</div>
<div id="keywords" class="section"><h2><a name="keywords">Keywords</a></h2>
<p><a href="../../index.html#key39">ns_cond</a>, <a href="../../index.html#key40">ns_critsec</a>, <a href="../../index.html#key41">ns_event</a>, <a href="../../index.html#key42">ns_mutex</a>, <a href="../../index.html#key38">ns_thread</a></p>
</div>
<div id="man-footer">
  
</div>
</div></body></html>
